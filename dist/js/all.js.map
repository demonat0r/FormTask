{"version":3,"sources":["main.js","map.js","validate.js"],"names":["window","NodeList","prototype","forEach","callback","thisArg","i","length","call","document","querySelectorAll","element","addEventListener","event","elem","style","display","e","classList","remove","currentTarget","add","getElementById","name","$","click","setCursorPosition","mask","fn","pos","get","setSelectionRange","createTextRange","range","collapse","moveEnd","moveStart","select","ymaps","ready","init","myMap","Map","center","zoom","coords","myCollection","GeoObjectCollection","iconLayout","iconImageHref","iconImageSize","iconImageOffset","Placemark","geoObjects","centerAndZoom","util","bounds","getCenterAndZoom","getBounds","width","height","options","setCenter","controls","resize","behaviors","disable","enable","firstFormFields","firstFormMessages","firstFormImages","secondFormFields","firstForm","querySelector","secondForm","errorRadio","preventDefault","el","index","firstFormCheck","onblur","onfocus","removeErrorItems","setErrorItems","msg","innerHTML","field","value","regExp","test","visibility","checked"],"mappings":"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","file":"all.js","sourcesContent":["//polyfill for IE11\r\n if ('NodeList' in window && !NodeList.prototype.forEach) {\r\n  NodeList.prototype.forEach = function (callback, thisArg) {\r\n    thisArg = thisArg || window;\r\n    for (var i = 0; i < this.length; i++) {\r\n      callback.call(thisArg, this[i], i, this);\r\n    }\r\n  };\r\n}\r\n\r\n//tabs navigation\r\ndocument.querySelectorAll('.tab-item').forEach( element => {\r\n    \r\n    element.addEventListener('click', (event) => {\r\n        document.querySelectorAll('.tabs-content').forEach( elem => {\r\n            elem.style.display = 'none';\r\n        })\r\n\r\n        document.querySelectorAll('.tab-item').forEach( e => {\r\n            e.classList.remove('tab-item_active')\r\n        })\r\n        \r\n        event.currentTarget.classList.add('tab-item_active');\r\n        document.getElementById(element.name).style.display = 'block'\r\n    })\r\n})\r\n\r\n\r\n$(\"#phone\").click(function() {\r\n    $(this).setCursorPosition(3);\r\n  }).mask(\"+7(999) 999-99-99\");\r\n\r\n\r\n$.fn.setCursorPosition = function(pos) {\r\n    if ($(this).get(0).setSelectionRange) {\r\n        $(this).get(0).setSelectionRange(pos, pos);\r\n    } else if ($(this).get(0).createTextRange) {\r\n        var range = $(this).get(0).createTextRange();\r\n        range.collapse(true);\r\n        range.moveEnd('character', pos);\r\n        range.moveStart('character', pos);\r\n        range.select();\r\n    }\r\n};","ymaps.ready(init);    \r\nfunction init(){ \r\n    var myMap = new ymaps.Map(\"map\", {\r\n            center: [55.76, 37.64],\r\n            zoom: 10\r\n    });\r\n\r\n    var coords = [\r\n        [55.75, 37.50],\r\n        [55.32216911184813,38.67462917402046]\r\n    ];\r\n\r\n    var myCollection = new ymaps.GeoObjectCollection({}, {\r\n        iconLayout: 'default#image',\r\n        iconImageHref: '../img/pin.svg',\r\n        iconImageSize: [33, 40],\r\n        iconImageOffset: [-3, -42]\r\n    });\r\n\r\n\r\n    for (var i = 0; i < coords.length; i++) {\r\n        myCollection.add(new ymaps.Placemark(coords[i]));\r\n    }\r\n\r\n    myMap.geoObjects.add(myCollection);\r\n\r\n\r\n\r\n    var centerAndZoom = ymaps.util.bounds.getCenterAndZoom(\r\n        myCollection.getBounds(),\r\n        [ $(window).width(), $(\"#map\").height() ],\r\n        myMap.options.get('projection')\r\n    );  \r\n\r\n\r\n    myMap.setCenter(centerAndZoom.center, (centerAndZoom.zoom));\r\n\r\n\r\n    myMap.controls.remove('searchControl');\r\n    myMap.controls.remove('trafficControl')\r\n    myMap.controls.remove('typeSelector')\r\n    myMap.controls.remove('fullscreenControl')\r\n    myMap.controls.remove('rulerControl')\r\n\r\n\r\n    $(window).resize(function() {\r\n        if($(window).width() < 768){\r\n            myMap.behaviors.disable('scrollZoom'); \r\n        }else{\r\n            myMap.behaviors.enable('scrollZoom');\r\n        } \r\n    });\r\n}","const firstFormFields = document.querySelectorAll('.delivery-form__input');\r\nconst firstFormMessages = document.querySelectorAll('.delivery-form__error-msg');\r\nconst firstFormImages = document.querySelectorAll('.delivery-form__error-img')\r\nconst secondFormFields = document.querySelectorAll('.pickup-form__radio');\r\nconst firstForm = document.querySelector('.delivery-form');\r\nconst secondForm = document.querySelector('.pickup-form');\r\nconst errorRadio = document.getElementById('error-radio');\r\n\r\n\r\n//first form validation\r\nfirstForm.addEventListener('submit', e => {\r\n    e.preventDefault(); \r\n\r\n    firstFormFields.forEach( (el, index) => firstFormCheck(el, index));\r\n});\r\n\r\nfirstFormFields.forEach( (el, index) => {\r\n    el.onblur = () => firstFormCheck(el, index)\r\n    el.onfocus = () => removeErrorItems(index)\r\n})\r\n\r\nfunction setErrorItems(index, msg) {\r\n    firstFormMessages[index].innerHTML = msg\r\n    firstFormMessages[index].classList.add('visible')\r\n    firstFormImages[index].classList.add('visible')\r\n}\r\n\r\nfunction removeErrorItems(index) {\r\n    firstFormMessages[index].classList.remove('visible')\r\n    firstFormImages[index].classList.remove('visible')\r\n}\r\n\r\nfunction firstFormCheck(field, i) {\r\n    if (field.value === '') {\r\n        setErrorItems(i, 'Это поле обязательно для заполнения')\r\n    }\r\n    else if (field.classList[1] === 'tel') {\r\n        let regExp = /\\+7\\(\\d{3}\\) \\d{3}-\\d{2}-\\d{2}/\r\n\r\n        if (!regExp.test(field.value)) {\r\n            setErrorItems(i, 'Неверно введен номер телефона')\r\n        }\r\n        else {\r\n            removeErrorItems(i)\r\n        } \r\n    }\r\n    else if (field.classList[1] === 'person') {\r\n        let regExp = /^[а-яё -]+$/i\r\n\r\n        if (!regExp.test(field.value)) {\r\n            setErrorItems(i, 'Только кириллица, пробел и тире')\r\n        }\r\n        else {\r\n            removeErrorItems(i)\r\n        }\r\n    }\r\n    else {\r\n        removeErrorItems(i) \r\n    }\r\n}\r\n\r\n\r\n//second form validation\r\nsecondFormFields.forEach( el => {\r\n    el.addEventListener('click', () => {\r\n        errorRadio.style.visibility = 'hidden'\r\n    })\r\n})\r\n\r\nsecondForm.addEventListener('submit', e => {\r\n    e.preventDefault(); \r\n\r\n    let checked = false;\r\n\r\n\r\n    for (let i = 0; i < secondFormFields.length; i++) {\r\n        if (secondFormFields[i].checked) {\r\n            checked = true\r\n        }\r\n    }\r\n\r\n    if (!checked) {\r\n        errorRadio.innerHTML = 'Выберите один из вариантов'\r\n        errorRadio.style.visibility = 'visible'\r\n    } \r\n    else \r\n        errorRadio.style.visibility = 'hidden'\r\n});\r\n\r\n"]}