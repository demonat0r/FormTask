{"version":3,"sources":["main.js","map.js","validate.js"],"names":["window","NodeList","prototype","forEach","callback","thisArg","i","length","call","document","querySelectorAll","element","addEventListener","event","elem","style","display","e","classList","remove","currentTarget","add","getElementById","name","$","click","setCursorPosition","mask","fn","pos","get","setSelectionRange","createTextRange","range","collapse","moveEnd","moveStart","select","ymaps","ready","init","myMap","Map","center","zoom","coords","myCollection","GeoObjectCollection","preset","Placemark","geoObjects","centerAndZoom","util","bounds","getCenterAndZoom","getBounds","width","height","options","setCenter","controls","behaviors","disable","firstFormFields","firstFormMessages","firstFormImages","secondFormFields","firstForm","querySelector","secondForm","errorRadio","preventDefault","el","index","firstFormCheck","onblur","onfocus","removeErrorItems","setErrorItems","msg","innerHTML","field","value","regExp","test","visibility","checked"],"mappings":"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","file":"all.js","sourcesContent":["//polyfill for IE11\r\n if ('NodeList' in window && !NodeList.prototype.forEach) {\r\n  NodeList.prototype.forEach = function (callback, thisArg) {\r\n    thisArg = thisArg || window;\r\n    for (var i = 0; i < this.length; i++) {\r\n      callback.call(thisArg, this[i], i, this);\r\n    }\r\n  };\r\n}\r\n\r\n//tabs navigation\r\ndocument.querySelectorAll('.tab-item').forEach( element => {\r\n    \r\n    element.addEventListener('click', (event) => {\r\n        document.querySelectorAll('.tabs-content').forEach( elem => {\r\n            elem.style.display = 'none';\r\n        })\r\n\r\n        document.querySelectorAll('.tab-item').forEach( e => {\r\n            e.classList.remove('active')\r\n        })\r\n        \r\n        event.currentTarget.classList.add('active');\r\n        document.getElementById(element.name).style.display = 'block'\r\n    })\r\n})\r\n\r\n\r\n$(\"#phone\").click(function() {\r\n    $(this).setCursorPosition(3);\r\n  }).mask(\"+7(999) 999-99-99\");\r\n\r\n\r\n$.fn.setCursorPosition = function(pos) {\r\n    if ($(this).get(0).setSelectionRange) {\r\n        $(this).get(0).setSelectionRange(pos, pos);\r\n    } else if ($(this).get(0).createTextRange) {\r\n        var range = $(this).get(0).createTextRange();\r\n        range.collapse(true);\r\n        range.moveEnd('character', pos);\r\n        range.moveStart('character', pos);\r\n        range.select();\r\n    }\r\n};","ymaps.ready(init);    \r\nfunction init(){ \r\n    var myMap = new ymaps.Map(\"map\", {\r\n            center: [55.76, 37.64],\r\n            zoom: 10\r\n    });\r\n\r\n    var coords = [\r\n        [55.75, 37.50],\r\n        [55.32216911184813,38.67462917402046]\r\n    ];\r\n\r\n    var myCollection = new ymaps.GeoObjectCollection({}, {\r\n        preset: 'islands#blueShoppingIcon'\r\n    });\r\n\r\n\r\n    for (var i = 0; i < coords.length; i++) {\r\n        myCollection.add(new ymaps.Placemark(coords[i]));\r\n    }\r\n\r\n    myMap.geoObjects.add(myCollection);\r\n\r\n\r\n\r\n    var centerAndZoom = ymaps.util.bounds.getCenterAndZoom(\r\n        myCollection.getBounds(),\r\n        [ $(window).width(), $(\"#map\").height() ],\r\n        myMap.options.get('projection')\r\n    );  \r\n\r\n\r\n    myMap.setCenter(centerAndZoom.center, (centerAndZoom.zoom));\r\n\r\n\r\n    myMap.controls.remove('searchControl');\r\n    myMap.controls.remove('trafficControl')\r\n    myMap.controls.remove('typeSelector')\r\n    myMap.controls.remove('fullscreenControl')\r\n    myMap.controls.remove('rulerControl')\r\n\r\n\r\n    if ($(window).width() < 768){\r\n        myMap.behaviors.disable('scrollZoom'); \r\n    } \r\n}","const firstFormFields = document.querySelectorAll('.delivery-form_input');\r\nconst firstFormMessages = document.querySelectorAll('.delivery-form_error-msg');\r\nconst firstFormImages = document.querySelectorAll('.delivery-form_error-img')\r\nconst secondFormFields = document.querySelectorAll('.pickup-form_radio');\r\nconst firstForm = document.querySelector('.delivery-form');\r\nconst secondForm = document.querySelector('.pickup-form');\r\nconst errorRadio = document.getElementById('error-radio');\r\n\r\n\r\n//first form validation\r\nfirstForm.addEventListener('submit', e => {\r\n    e.preventDefault(); \r\n\r\n    firstFormFields.forEach( (el, index) => firstFormCheck(el, index));\r\n});\r\n\r\nfirstFormFields.forEach( (el, index) => {\r\n    el.onblur = () => firstFormCheck(el, index)\r\n    el.onfocus = () => removeErrorItems(index)\r\n})\r\n\r\nfunction setErrorItems(index, msg) {\r\n    firstFormMessages[index].innerHTML = msg\r\n    firstFormMessages[index].classList.add('visible')\r\n    firstFormImages[index].classList.add('visible')\r\n}\r\n\r\nfunction removeErrorItems(index) {\r\n    firstFormMessages[index].classList.remove('visible')\r\n    firstFormImages[index].classList.remove('visible')\r\n}\r\n\r\nfunction firstFormCheck(field, i) {\r\n    if (field.value === '') {\r\n        setErrorItems(i, 'Это поле обязательно для заполнения')\r\n    }\r\n    else if (field.classList[1] === 'tel') {\r\n        let regExp = /\\+7\\(\\d{3}\\) \\d{3}-\\d{2}-\\d{2}/\r\n\r\n        if (!regExp.test(field.value)) {\r\n            setErrorItems(i, 'Неверно введен номер телефона')\r\n        }\r\n        else {\r\n            removeErrorItems(i)\r\n        } \r\n    }\r\n    else if (field.classList[1] === 'person') {\r\n        let regExp = /^[а-яё -]+$/i\r\n\r\n        if (!regExp.test(field.value)) {\r\n            setErrorItems(i, 'Только кириллица, пробел и тире')\r\n        }\r\n        else {\r\n            removeErrorItems(i)\r\n        }\r\n    }\r\n    else {\r\n        removeErrorItems(i) \r\n    }\r\n}\r\n\r\n\r\n//second form validation\r\nsecondFormFields.forEach( el => {\r\n    el.addEventListener('click', () => {\r\n        errorRadio.style.visibility = 'hidden'\r\n    })\r\n})\r\n\r\nsecondForm.addEventListener('submit', e => {\r\n    e.preventDefault(); \r\n\r\n    let checked = false;\r\n\r\n\r\n    for (let i = 0; i < secondFormFields.length; i++) {\r\n        if (secondFormFields[i].checked) {\r\n            checked = true\r\n        }\r\n    }\r\n\r\n    if (!checked) {\r\n        errorRadio.innerHTML = 'Выберите один из вариантов'\r\n        errorRadio.style.visibility = 'visible'\r\n    } \r\n    else \r\n        errorRadio.style.visibility = 'hidden'\r\n});\r\n\r\n"]}